ì„¹ì…˜5,6,7 ìˆ˜ê°• í›„

# ë‹¤í˜•ì„±ì´ ë†’ë‹¤ëŠ” ì˜ë¯¸

#### ê°•ì˜ì—ì„œ ë§í•˜ëŠ” ë‹¤í˜•ì„±ì´ ë†’ë‹¤ëŠ” ì˜ë¯¸ëŠ” ë¬´ì—‡ì¸ê°€?

ì„¹ì…˜8: Array.prototype.joinë³´ë‹¤ ë‹¤í˜•ì„±ì´ ë†’ì€ join í•¨ìˆ˜

joinì€ "ì‹œí€€ìŠ¤ë¥¼ ì—°ê²°ì‹œì¼œ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ë§Œë“œëŠ” ì—°ì‚°"ì´ë¼ê³  í•˜ì.
Array.prototype.joinì€ ì–´ë–¤ íƒ€ì…ì˜ ë°ì´í„°ì— ìì‹ ì˜ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì§€?

ë¨¼ì € joinì´ ë  ë§Œí•œ, ì‹œí€€ìŠ¤ë¼ê³  í•  ë§Œí•œ ë°ì´í„° íƒ€ì…ë“¤ì„ ë³´ì.

```ts
const iterable_string: string = 'apple'; // Iterable<string>
const iterable_array: Array<number> = [1, 2, 3]; // Iterable<number>
const array_like: ArrayLike<string> = {
  // ArrayLike<string>
  0: 'ar',
  1: 'ray',
  2: 'li',
  3: 'ke',
  length: 4,
};
const iterable_map = new Map([
  // Iterable<[string, number]>
  ['a', 1],
  ['b', 2],
  ['c', 3],
]);
const iterable_set = new Set(['a', 'b', 'c']); // Iterable<string>
const iterable_arguments = (function (..._: string[]) {
  return arguments;
})('a', 'r', 'g', 's'); // Iterable<string>
const iterable_generator = (function* () {
  //  Generator<1 | 2 | 3, void, unknown> or Iterable<number>
  yield 1;
  yield 2;
  yield 3;
})();
```

Array.prototype.joinì„ ì´ìš©í•´ì„œ ê° ì‹œí€€ìŠ¤ë¥¼ ì—°ê²°ì‹œì¼œ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ì.

```ts
const join_string = Array.prototype.join.bind(iterable_string);
const join_array = Array.prototype.join.bind(iterable_array);
const join_map = Array.prototype.join.bind(iterable_map);
const join_set = Array.prototype.join.bind(iterable_set);
const join_arguments = Array.prototype.join.bind(iterable_arguments);
const join_generator = Array.prototype.join.bind(iterable_generator);
const join_array_like = Array.prototype.join.bind(array_like);

console.log('string: ', join_string('-')); // string:  a-p-p-l-e
console.log('array: ', join_array('-')); // array:  1-2-3
console.log('map: ', join_map('-')); // map:
console.log('set: ', join_set('-')); // set:
console.log('arguments: ', join_arguments('-')); // arguments:  a-r-g-s
console.log('generator: ', join_generator('-')); // generator:
console.log('array_like: ', join_array_like('-')); // array_like:  ar-ray-li-ke
```

map, set, generatorì— ëŒ€í•´ì„œëŠ” ë¹ˆ ë¬¸ìì—´ì´ ì½˜ì†”ë¡œ ì¶œë ¥ë˜ê³ , ì—ëŸ¬ë„ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
array_likeì— ëŒ€í•´ì„œëŠ” ë¬¸ìì—´ì´ ì½˜ì†”ë¡œ ì¶œë ¥ëœë‹¤.
ì´ìœ ëŠ” ë­˜ê¹Œ? Array.prototype.joinì€ ìˆœíšŒí•˜ë©´ì„œ ê° ìš”ì†Œì— ì ‘ê·¼í•  ë•Œ 0ë¶€í„° length-1ê¹Œì§€ì˜ ìˆ«ìë¥¼ í‚¤ë¡œ í•˜ì—¬ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ëŒ€ëµ ì•„ë˜ê°™ì€ ë™ì‘ì„ í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤.

```js
Array.prototype.pseudoJoin = function () {
  let result = '';
  for (let i = 0; i < this.length; i++) {
    result += this[i];
  }
  return result;
};
```

<details>
    <summary>Array.prototype.joinì˜ ë™ì‘ ì›ë¦¬ - ECMAScript ìŠ¤í™</summary>

    Array.prototype.joinì˜ [ìŠ¤í™](https://tc39.es/ecma262/#sec-array.prototype.join)ì„ ë³´ë©´
    ì´ëŸ° ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆë‹¤.

    > Repeat, while k < len,
    > a. If k > 0, set R to the string-concatenation of R and sep.
    > b. Let element be ? Get(O, ! ToString(ğ”½(k))).

    ì¦‰, joinì€ ê·¸ ìŠ¤í™ì— ë”°ë¥´ë©´ ì¸ìë¡œ ì˜¨ ê°ì²´ì˜ lengthë¥¼ ê°€ì§€ê³  0ë¶€í„° lengthê¹Œì§€ ìˆœíšŒí•˜ë©´ì„œ
    ê° ìš”ì†Œë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ê³ , ì´ë¥¼ ì´ì–´ë¶™ì´ëŠ” ì—°ì‚°ì„ í•œë‹¤.

</details>

ê°•ì˜ì—ì„œ êµ¬í˜„í•œ "ë‹¤í˜•ì„±ì´ ë” ë†’ì€" join í•¨ìˆ˜ëŠ” ë” ë§ì€ íƒ€ì…ì˜ ë°ì´í„°, ì‹œí€€ìŠ¤ë¥¼ ë” ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•œ ë‹¤ë¥¸ ë°ì´í„°íƒ€ì…ì— ëŒ€í•´ì„œë„ ìì‹ ì˜ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

```ts
const join = <T>(sep = ',', iter: Iterable<T>) =>
  _.reduce<T, string>((acc, cur) => `${acc}${sep}${cur}`, iter);

console.log('join_string: ', join('-', iterable_string)); //  // join_string:  a-p-p-l-e
console.log('join_array: ', join('-', iterable_array)); // join_array:  1-2-3
// console.log('join_array_like: ', join('-', array_like)); // TypeError: iter is not iterable
console.log('join_custom: ', join('-', iterable_custom)); // join_custom:  1-2-3-4-5-6-7-8-9
console.log('join_map: ', join('-', iterable_map)); // join_map:  a,1-b,2-c,3
console.log('join_set: ', join('-', iterable_set)); // join_set:  a-b-c
console.log('join_arguments: ', join('-', iterable_arguments)); // join_arguments:  a-r-g-s
console.log('join_generator: ', join('-', iterable_generator)); // join_generator:  1-2-3
```

ì—¬ê¸°ì„œ êµ¬í˜„í•œ joinì´ **ë‹¤í˜•ì„±**ì´ ë†’ë‹¤ëŠ” ì˜ë¯¸ëŠ”, ì¼ê´€ëœ íŒŒë¼ë¯¸í„° ì¸í„°í˜ì´ìŠ¤ë¡œ **ë‹¤ì–‘í•œ í˜•íƒœ**ì˜ ë°ì´í„°ì— ëŒ€í•´ ë™ì‘í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
ì¦‰ íŒŒë¼ë©”íŠ¸ë¦­(ë§¤ê°œë³€ìˆ˜) ë‹¤í˜•ì„±ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

ì´ê±´ OOPì—ì„œ ë§í•˜ëŠ” ë‹¤í˜•ì„±ê³¼ ë¹„ìŠ·í•œ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.
"ì–´ë–¤ ë¶€ë¶„ì´ ë‹¤í˜•ì„±ì´ë¼ëŠ” ì„±ì§ˆì„ ê°–ëŠ”ì§€" ë²”ì£¼ê°€ ì¢€ ë‹¤ë¥´ë‹¤
ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ì£¼ë¡œ "í¬í•¨ ë‹¤í˜•ì„±(ìƒì†ì„ í†µí•œ ì„œë¸Œíƒ€ì… ë‹¤í˜•ì„±)"ê³¼ "ì˜¤ë²„ë¡œë”© ë‹¤í˜•ì„±"ì„ ë§í•œë‹¤.

```ts
class Animal {
  name: string;
  age: number;
  speak() {
    prompt('ìš°ìš°');
  }
  walk() {
    prompt('í„°ë²…í„°ë²…');
  }
}

class Dog extends Animal {
  name: string;
  speak() {
    prompt('ë©ë©');
  }
}

class Cat extends Animal {
  name: string;
  speak() {
    prompt('ì•¼ì˜¹');
  }
}

const cat = new Cat();
cat.speak(); // ì•¼ì˜¹ - ì˜¤ë²„ë¡œë”©Overloading ë‹¤í˜•ì„±
cat.walk(); // í„°ë²…í„°ë²… - í¬í•¨Include ë‹¤í˜•ì„±
```
